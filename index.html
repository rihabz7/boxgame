<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>game animation</title>
    <style>
        canvas{
            background-color: beige;
        }
    </style>
</head>
<body>
    <center>
        <canvas id="canvas" width="600" height="800"></canvas>
    </center>
    

    <script src="script.js"> 
    /*const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext('2d');

    /*
    // rectangle
    ctx.fillStyle = 'red';
    ctx.fillRect(300,20,100,100)
    ctx.fillStyle = 'blue';
    ctx.fillRect(0,20,100,100)

    // draw line
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(200,200);
    ctx.lineTo(0,400);

    ctx.strokeStyle = "red";
    ctx.stroke();
    ctx.fillStyle = 'orange';
    ctx.fill();

    //circle
    ctx.beginPath();
    ctx.arc(200, 200, 100, 0, 2 * Math.PI, false);
    ctx.fillStyle = 'green';
    ctx.fill();

    //text
    ctx.font = '30px Arial';
    ctx.fillStyle = "red";
    ctx.fillText("hello...", 0,350)

    //image

    let image = new Image();
    image.src = "pngwing.com (3).png"
    image.onload = function(){
        ctx.drawImage(image, 200,200,200,200)
    }
    //

    class Block{
        constructor(color,x,y,w,h){
            this.color = color;
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            
            this.speedX = 0;
            this.speedY = 0;
        }
        draw(){
            console.log(this.x);
            if (
                (this.speedX > 0 && this.x < 300) || (this.speedX < 0 && this.x > 0)
            ){
                this.x += this.speedX;
            }
            if (
                (this.speedY > 0 && this.y < 300) || (this.speedY < 0 && this.y > 0)
            ){
                this.y += this.speedY;
            }
            
            ctx.fillStyle = this.color;
            ctx.fillRect(this.x,this.y,this.w,this.h)
        }
    }

    class Player extends Block{
        draw(){
            console.log(this.x);
            if (
                (this.speedX > 0 && this.x < 300) || (this.speedX < 0 && this.x > 0)
            ){
                this.x += this.speedX;
            }
            if (
                (this.speedY > 0 && this.y < 300) || (this.speedY < 0 && this.y > 0)
            ){
                this.y += this.speedY;
            }
            
            ctx.fillStyle = this.color;
            ctx.fillRect(this.x,this.y,this.w,this.h)

            if((this.x > greenBox.x && this.x < greenBox.x + greenBox.w)||(this.x+this.w > greenBox.x && this.x+this.w < greenBox.x+greenBox.w)){
                if((this.y > greenBox.y && this.y < greenBox.y + greenBox.h)||(this.y+this.h > greenBox.y && this.y+this.h < greenBox.y+greenBox.h)){
                alert("game over")
                this.x = 300;
                this.y = 300;
                this.speedX = 0;
                this.speedY = 0;
            }
           }
        }
    }

    const redBox = new Player('red',350,350,100,100)

    const greenBox = new Block('green',0,0,100,100)

    let fps = 30;
    let counter = 0;
    let timer = setInterval(function(){
        ctx.clearRect(0,0,400,400)

        redBox.draw();
        greenBox.draw();

        counter++;
        ctx.font = '30px Arial';
        ctx.fillStyle = "red";
        ctx.fillText(counter, 0,350)
        console.log('Frame');
    },1000/fps)

    document.addEventListener("keydown",(e)=>{
        console.log(e.key);
        switch(e.key){
            case "ArrowLeft":
                redBox.speedX = -10;
                break;
            case "ArrowRight":
                redBox.speedX = 10;
                break;
            case "ArrowUp":
                redBox.speedY = -10;
                break;
            case "ArrowDown":
                redBox.speedY = 10;
                break;
        }
    })

    document.addEventListener("keyup",(e)=>{
        console.log(e.key);
        switch(e.key){
            case "ArrowLeft":
                redBox.speedX = 0;
                break;
            case "ArrowRight":
                redBox.speedX = 0;
                break;
            case "ArrowUp":
                redBox.speedY = 0;
                break;
            case "ArrowDown":
                redBox.speedY = 0;
                break;
        }
    })*/

    </script>
</body>
</html>